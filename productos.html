<!DOCTYPE html>
<html lang="es">
<head>
    <!-- <title>Productos</title> -->
</head>
<body>
    <header class="header">
    </header>

    <main class="productosApp" id="productosApp">
        <nav class="filtros">
            <button @click.prevent="visualizarFiltro" class="btnFiltrar">Filtrar Resultados</button>
            <form v-show="mostrarFiltro" class="animate__animated animate__fadeIn formFiltro">
                <div class="filtroTexto">
                    <input type="text" name="texto" id="texto">
                    <button @click.prevent="filtrarTexto">Buscar</button>
                </div>
                <div class="filtroCategoria">
                    <input type="radio" name="itemCategoria" id="cat0" value="0" @change="filtrarCategoria">
                    <label for="cat0" class="labelCategoria">Todo</label>
                    <input v-for="cat in categorias" type="radio" name="itemCategoria" :value="cat.idCategoria" :id="'cat' + cat.idCategoria" @change="filtrarCategoria">
                    <label v-for="cat in categorias" :for="'cat' + cat.idCategoria" class="labelCategoria">{{cat.nombre}}</label>
                </div>
                <div class="filtroColor">
                    <label>Color</label>
                    <input type="radio" name="itemColor" id="color0" value="0" @change="filtrarColor">
                    <label for="color0" class="labelColor labelColorTodos"></label>
                    <input v-for="color in colores" type="radio" name="itemColor" :value="color.idColor" :id="'color' + color.idColor" @change="filtrarColor">
                    <label v-for="color in colores" :style="estiloColor(color.codigoHEX)" :for="'color' + color.idColor" class="labelColor"></label>
                </div>
                <div class="filtroTalle">
                    <label>Talle</label>
                    <input type="radio" name="itemTalle" id="talle0" value="0" @change="filtrarTalle">
                    <label for="talle0" class="labelTalle">Todos</label>
                    <input v-for="talle in talles" type="radio" name="itemTalle" :value="talle.idTalle" :id="'talle' + talle.idTalle" @change="filtrarTalle">
                    <label v-for="talle in talles" :for="'talle' + talle.idTalle" class="labelTalle">{{talle.idTalle}}</label>
                </div>
            </form>
        </nav>
        <div class="productos">
            <div class="producto" v-for="producto in productos.slice(pagProductoDesde, pagProductoHasta)" @click="getProducto(producto.idProducto)">
                <img v-bind:src="dirImagenes + producto.imagenPrincipal" v-bind:alt="producto.textoAlt">
                <h4>{{producto.nombre}}</h4>
                <p>{{producto.precio}}</p>
            </div>
        </div>
        <div class="bloqueadorFondo" v-show="mostrarDetalleProducto"></div>
        <div class="detalleProducto" v-show="mostrarDetalleProducto">
            <p class="dcat">{{producto.nomCategoria}}</p>
            <h2 class="dprod">{{producto.nombre}}</h2>
            <img v-bind:src="dirImagenes + producto.imagenPrincipal" v-bind:alt="producto.textoAlt" class="dimg">
            <p class="dtext">{{producto.descripcion}}</p>
            <button @click="cerrarDetalleProducto" class="dbutton">Cerrar</button>
        </div>
    <nav class="paginacion">
            <a href.prevent="#" @click.prevent="paginaAnterior" v-show="!pagPrimeraPagina">&lt;&lt;</a>
            <a href.prevent="#" @click.prevent="paginaSiguiente" v-show="!pagUltimaPagina">&gt;&gt;</a>
        </nav>
    </main>


    <footer class="footer">
    </footer>
    <script src="./js/all_pages.js"></script>    
    <script src="https://unpkg.com/vue@3"></script>
    <script src="./js/productos.js"></script>
</body>
</html>